apply plugin: 'kotlin'

version = '0.1'

repositories {
    mavenCentral()
}
dependencies {
    compile 'org.jetbrains.kotlin:kotlin-stdlib:0.8.+'
    compile 'io.netty:netty-all:4.0.21.Final'
}

tasks.compileKotlin.dependsOn 'frontend:assemble'
tasks.clean.dependsOn 'frontend:clean'

jar {
    manifest {
        attributes "Main-Class": 'beholder.backend.BackendPackage'
    }
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
    archiveName = 'beholder.jar'
}

buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:0.8.+'
  }
}
